webpackJsonp([7],{K31e:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("oNff"),n=s("GX5s"),i={name:"Login",components:{Head:a.a,Model:n.a},data:function(){return{checked:!1,name:"",pwd:"",yan:"",img:"",show:!1,message:""}},created:function(){this.getImg()},methods:{getImg:function(){var e=this;this.axios.post("http://elm.cangdu.org/v1/captchas",{}).then(function(t){t.data.code&&(e.img=t.data.code)})},change:function(){this.getImg()},login:function(){var e=this;""==this.name&&""==this.pwd&&""==this.yan?(this.show=!0,this.message="请输入账号/密码/验证码"):""!=this.name&&""!=this.pwd&&""==this.yan?(this.show=!0,this.message="请输入验证码"):""!=this.name&&""==this.pwd?(this.show=!0,this.message="请输入密码"):""==this.name&&""!=this.pwd&&""!=this.yan||""==this.name&&""==this.pwd&&""!=this.yan?(this.show=!0,this.message="请输入账号"):""!=this.name&&""!=this.pwd&&""!=this.yan&&this.axios.post("http://elm.cangdu.org/v2/login",{captcha_code:this.yan,username:this.name,password:this.pwd}).then(function(t){t.data.message?(e.show=!0,e.message=t.data.message):t.data.username&&(e.$store.commit("user",t.data),e.$router.go(-1))})},showHide:function(e){this.show=e}}},o={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box"},[s("Head",[s("span",{attrs:{slot:"center"},slot:"center"},[e._v("密码登录")]),e._v(" "),s("span",{attrs:{slot:"right"},slot:"right"})]),e._v(" "),s("section",[s("ul",{staticClass:"login"},[s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"账号"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),s("li",[s("p",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"},{name:"show",rawName:"v-show",value:0==e.checked,expression:"checked==false"}],attrs:{type:"password",placeholder:"密码"},domProps:{value:e.pwd},on:{input:function(t){t.target.composing||(e.pwd=t.target.value)}}}),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.pwd,expression:"pwd"},{name:"show",rawName:"v-show",value:1==e.checked,expression:"checked==true"}],attrs:{type:"text",placeholder:"密码"},domProps:{value:e.pwd},on:{input:function(t){t.target.composing||(e.pwd=t.target.value)}}})]),e._v(" "),s("van-switch",{attrs:{"active-color":"#00DC6E","inactive-color":"#999",size:"0.4rem"},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1),e._v(" "),s("li",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.yan,expression:"yan"}],attrs:{type:"text",placeholder:"验证码"},domProps:{value:e.yan},on:{input:function(t){t.target.composing||(e.yan=t.target.value)}}}),e._v(" "),s("div",[s("img",{directives:[{name:"show",rawName:"v-show",value:""!=e.img,expression:"img!=''"}],attrs:{src:e.img}}),e._v(" "),s("p",[e._v("\n                      看不清\n                      "),s("span",{on:{click:e.change}},[e._v("换一张")])])])])]),e._v(" "),s("p",[e._v("温馨提示：未注册过的账号，登陆时将自动注册")]),e._v(" "),s("p",[e._v("注册过的用户可凭账号密码登陆")]),e._v(" "),s("div",[s("button",{on:{click:function(t){return e.login()}}},[e._v("登录")]),e._v(" "),s("router-link",{attrs:{to:"/register",tag:"span"}},[e._v("重置密码？")])],1)]),e._v(" "),s("Model",{attrs:{show:e.show},on:{showHide:e.showHide}},[e._v(e._s(e.message))])],1)},staticRenderFns:[]};var r=s("C7Lr")(i,o,!1,function(e){s("sCui")},"data-v-edd419cc",null);t.default=r.exports},sCui:function(e,t){}});